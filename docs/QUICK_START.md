# 快速开始指南

## 项目启动

### 1. 安装依赖
```bash
pnpm install
```

### 2. 配置环境变量（可选）
创建 `.env` 文件：
```env
# API 基础地址（默认使用 https://api.huanvae.cn）
VITE_AUTH_API_URL=https://api.huanvae.cn
```

### 3. 启动开发服务器
```bash
pnpm dev
```

访问 `http://localhost:5173` 即可查看应用。

## 功能导览

### 注册/登录
1. 访问首页会自动跳转到登录页
2. 点击"注册"创建新账号
3. 注册成功后自动登录

**测试账号（如果后端有测试数据）：**
- 用户 ID: test_user
- 密码: test123

### 首页功能
登录后进入首页仪表板，可以访问：
- **AI 聊天** - 与智能助手对话
- **群聊** - 加入群组讨论
- **视频会议** - 发起视频通话
- **好友管理** - 添加和管理好友
- **个人资料** - 编辑个人信息

### 好友管理
1. 点击"好友管理"进入好友页面
2. 使用顶部搜索框搜索用户
3. 在搜索结果中点击"添加好友"
4. 可以添加留言（可选）
5. 等待对方接受请求

**管理好友：**
- 查看好友列表和在线状态
- 删除好友
- 屏蔽用户
- 处理好友请求

### 个人资料
1. 点击"个人资料"进入资料页面
2. 点击头像可上传新头像（支持 JPG/PNG，最大 5MB）
3. 点击"编辑资料"修改个人信息
4. 查看统计信息：好友数、消息数等

**账号管理：**
- 修改密码
- 删除账号（需要输入密码确认）

### AI 聊天
1. 点击"AI 聊天"进入对话界面
2. 在底部输入框输入消息
3. 支持多轮对话
4. 可以清空历史记录

### 群聊
1. 点击"群聊"进入群聊界面
2. 输入用户名加入群组
3. 可以看到在线用户列表
4. 发送消息与其他用户交流

### 视频会议
1. 点击"视频会议"进入会议室
2. 输入会议 ID 加入
3. 控制摄像头、麦克风、屏幕共享
4. 查看参与者列表

### 设置
1. 点击"设置"进入设置页面
2. 配置 AI API（可选）
3. 修改应用偏好设置
4. 查看应用版本信息

### 设备管理
1. 点击"设备管理"查看登录设备
2. 查看设备信息：类型、IP、位置
3. 撤销不再使用的设备登录

## 快捷键

- `Ctrl/Cmd + /` - 聚焦搜索框（好友页面）
- `Ctrl/Cmd + Enter` - 发送消息（聊天界面）
- `Esc` - 关闭模态框

## 界面元素说明

### 导航栏
- 左侧：用户头像和信息
- 右侧：设备管理、设置、用户菜单

### 用户菜单（点击右上角头像）
- 个人资料
- 好友管理
- 设置
- 登出

### 状态指示
- 🟢 在线
- 🔴 离线
- 🟡 忙碌

## 常见问题

### Q: 登录失败怎么办？
A: 请检查：
1. 用户 ID 和密码是否正确
2. 网络连接是否正常
3. 后端 API 服务是否运行
4. 查看浏览器控制台错误信息

### Q: 好友请求发送后看不到？
A: 好友请求需要对方在"好友请求"标签中查看和处理。

### Q: 上传头像失败？
A: 请确保：
1. 图片格式为 JPG/PNG
2. 图片大小不超过 5MB
3. 网络连接稳定

### Q: Token 过期怎么办？
A: 应用会自动刷新 Token，如果自动刷新失败，会跳转到登录页面，重新登录即可。

### Q: 设备列表为什么有多个？
A: 每次登录都会创建一个新的设备记录，可以在设备管理中撤销不再使用的设备。

## 开发调试

### 查看 API 请求
打开浏览器开发者工具（F12）：
1. Network 标签 - 查看所有网络请求
2. Console 标签 - 查看日志和错误信息
3. Application 标签 - 查看本地存储（Token、用户信息）

### 清除本地数据
```javascript
// 在浏览器控制台执行
localStorage.clear()
location.reload()
```

### API 日志
所有 API 调用都会在控制台输出日志：
- 🔐 认证相关
- 📱 好友相关
- 👤 个人资料相关

### 错误处理
应用会显示友好的错误提示，详细错误信息可在控制台查看。

## 浏览器兼容性

**推荐浏览器：**
- Chrome 90+
- Firefox 88+
- Safari 14+
- Edge 90+

**不支持：**
- IE 11 及以下

## 性能优化建议

1. **首次加载慢？**
   - 等待所有资源加载完成
   - 后续访问会使用缓存

2. **图片加载慢？**
   - 上传前压缩图片
   - 使用适当的图片尺寸

3. **聊天卡顿？**
   - 定期清空聊天历史
   - 关闭不使用的标签页

## 技术栈

- **框架**: React 18 + TypeScript
- **构建工具**: Vite
- **路由**: React Router v6
- **状态管理**: Zustand
- **UI 组件**: daisyUI + Tailwind CSS
- **图标**: FontAwesome
- **HTTP 客户端**: Fetch API

## 项目结构

```
frontend/
├── src/
│   ├── api/          # API 调用函数
│   ├── components/   # 可复用组件
│   ├── pages/        # 页面组件
│   ├── store/        # 状态管理
│   ├── types/        # TypeScript 类型
│   ├── utils/        # 工具函数
│   ├── App.tsx       # 根组件
│   └── main.tsx      # 入口文件
├── public/           # 静态资源
├── docs/             # 项目文档
└── package.json      # 依赖配置
```

## 获取帮助

- 查看 [API 文档](./API_CONFIG.md)
- 查看 [功能实现文档](./FEATURE_IMPLEMENTATION.md)
- 查看 [API 快速参考](./API_QUICK_REF.md)
- 提交 Issue 到 GitHub 仓库

## 更新日志

查看 [CHANGELOG.md](./CHANGELOG.md) 了解版本更新内容。

## 下一步

- 探索所有功能模块
- 尝试与 AI 对话
- 添加好友并聊天
- 发起视频会议
- 个性化你的资料

