import{u as z,a as C,r as x,j as e,m as t,D as h,s as A,p as F,B as N,b as P,d as u,e as D,g as I,h as w,L as _}from"./index-DW35rIVo.js";import{I as c}from"./input-f5AW0FoI.js";import{L as m}from"./label-C59nEV0B.js";import{A as V,a as $,b as q}from"./alert-C5MYzozL.js";import{S as R}from"./separator-JxeVl68w.js";import{C as i}from"./check-DCSHekAZ.js";import{L as B}from"./loader-circle-BnlNvwYj.js";import"./index-DN7uoSTJ.js";import"./index-DUzm_Fz5.js";function J(){const b=z(),y=C(a=>a.register),[s,n]=x.useState({user_id:"",nickname:"",email:"",password:"",confirmPassword:""}),[j,o]=x.useState(""),[g,p]=x.useState(!1),[k,l]=x.useState(!1),r={length:s.password.length>=8,hasLetter:/[a-zA-Z]/.test(s.password),hasNumber:/[0-9]/.test(s.password)},d=Object.values(r).filter(Boolean).length,f=s.password&&s.password===s.confirmPassword,S=async a=>{if(a.preventDefault(),o(""),s.password!==s.confirmPassword){o("两次输入的密码不一致"),l(!0),setTimeout(()=>l(!1),500);return}if(!r.length||!r.hasLetter||!r.hasNumber){o("密码必须至少8位，包含字母和数字"),l(!0),setTimeout(()=>l(!1),500);return}p(!0);try{await y({user_id:s.user_id,nickname:s.nickname,email:s.email,password:s.password}),b("/")}catch(v){const L=v instanceof Error?v.message:"注册失败，请稍后重试";o(L),l(!0),setTimeout(()=>l(!1),500)}finally{p(!1)}};return e.jsxs("div",{className:"min-h-screen flex",children:[e.jsxs(t.div,{variants:A,initial:"hidden",animate:"visible",transition:{duration:h.slow},className:"hidden lg:flex lg:w-1/2 gradient-bg-purple p-12 relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 opacity-10",children:[e.jsx("div",{className:"absolute top-20 right-20 w-72 h-72 bg-white rounded-full blur-3xl"}),e.jsx("div",{className:"absolute bottom-20 left-20 w-96 h-96 bg-white rounded-full blur-3xl"})]}),e.jsxs("div",{className:"relative z-10 flex flex-col justify-center text-white",children:[e.jsx(t.div,{variants:F,animate:"animate",className:"mb-8",children:e.jsx(N,{size:96,strokeWidth:1.5})}),e.jsxs("h1",{className:"text-6xl font-black mb-6 leading-tight",children:["开始你的",e.jsx("br",{}),"智能之旅"]}),e.jsx("p",{className:"text-xl font-light mb-8",children:"加入 HuanVae Chat，体验全新的智能通讯方式"}),e.jsxs(t.div,{variants:P,initial:"hidden",animate:"visible",className:"space-y-3",children:[e.jsxs(t.div,{variants:u,className:"flex items-center gap-3 text-lg",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-white/20 flex items-center justify-center",children:e.jsx(i,{size:20})}),e.jsx("span",{children:"永久免费使用"})]}),e.jsxs(t.div,{variants:u,className:"flex items-center gap-3 text-lg",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-white/20 flex items-center justify-center",children:e.jsx(i,{size:20})}),e.jsx("span",{children:"AI 智能助手"})]}),e.jsxs(t.div,{variants:u,className:"flex items-center gap-3 text-lg",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-white/20 flex items-center justify-center",children:e.jsx(i,{size:20})}),e.jsx("span",{children:"安全加密通讯"})]})]})]})]}),e.jsx(t.div,{variants:D,initial:"hidden",animate:"visible",transition:{duration:h.slow},className:"flex-1 flex items-center justify-center p-8 bg-gray-50",children:e.jsxs(t.div,{variants:I,initial:"hidden",animate:k?"shake":"visible",transition:{delay:.4,duration:h.slow},className:"w-full max-w-md",children:[e.jsxs("div",{className:"lg:hidden text-center mb-8",children:[e.jsx(N,{size:64,strokeWidth:1.5,className:"text-purple-500 mb-4 mx-auto"}),e.jsx("h1",{className:"text-4xl font-black gradient-text",children:"HuanVae Chat"})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold mb-2",children:"创建账号"}),e.jsx("p",{className:"text-muted-foreground",children:"填写信息，开始您的智能体验"})]}),j&&e.jsx(V,{variant:"destructive",className:"mb-6 animate-shake",children:e.jsx($,{children:j})}),e.jsxs("form",{onSubmit:S,className:"space-y-5",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"user_id",children:"用户ID"}),e.jsx(c,{id:"user_id",required:!0,minLength:3,value:s.user_id,onChange:a=>n({...s,user_id:a.target.value}),placeholder:"至少3个字符",className:"h-12"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"nickname",children:"昵称"}),e.jsx(c,{id:"nickname",required:!0,value:s.nickname,onChange:a=>n({...s,nickname:a.target.value}),placeholder:"您的昵称",className:"h-12"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"email",children:"邮箱"}),e.jsx(c,{id:"email",type:"email",required:!0,value:s.email,onChange:a=>n({...s,email:a.target.value}),placeholder:"your@email.com",className:"h-12"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"password",children:"密码"}),e.jsx(c,{id:"password",type:"password",required:!0,minLength:8,value:s.password,onChange:a=>n({...s,password:a.target.value}),placeholder:"至少8位，包含字母和数字",className:"h-12"}),s.password&&e.jsxs("div",{className:"mt-2 p-3 bg-gray-100 rounded-lg space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[e.jsx("span",{children:"密码强度"}),e.jsx("span",{children:d===3?"强":d===2?"中":"弱"})]}),e.jsx("div",{className:"h-1.5 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full transition-all ${d===3?"bg-green-500":d===2?"bg-yellow-500":"bg-red-500"}`,style:{width:`${d/3*100}%`}})}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:`text-xs flex items-center gap-2 ${r.length?"text-green-600":"text-gray-400"}`,children:[e.jsx(i,{size:14}),"至少8个字符"]}),e.jsxs("div",{className:`text-xs flex items-center gap-2 ${r.hasLetter?"text-green-600":"text-gray-400"}`,children:[e.jsx(i,{size:14}),"包含字母"]}),e.jsxs("div",{className:`text-xs flex items-center gap-2 ${r.hasNumber?"text-green-600":"text-gray-400"}`,children:[e.jsx(i,{size:14}),"包含数字"]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"confirmPassword",children:"确认密码"}),e.jsx(c,{id:"confirmPassword",type:"password",required:!0,value:s.confirmPassword,onChange:a=>n({...s,confirmPassword:a.target.value}),placeholder:"再次输入密码",className:"h-12"}),s.confirmPassword&&e.jsxs("div",{className:`text-xs flex items-center gap-2 ${f?"text-green-600":"text-red-600"}`,children:[e.jsx(i,{size:14}),f?"密码匹配":"密码不匹配"]})]}),e.jsx(w,{type:"submit",disabled:g,className:"w-full h-12 text-base font-semibold",children:g?e.jsxs(e.Fragment,{children:[e.jsx(B,{className:"mr-2 h-5 w-5 animate-spin"}),"注册中..."]}):e.jsxs(e.Fragment,{children:["创建账号",e.jsx(q,{className:"ml-2 h-5 w-5"})]})})]}),e.jsxs("div",{className:"my-8",children:[e.jsx(R,{className:"my-4"}),e.jsx("p",{className:"text-center text-sm text-muted-foreground",children:"或"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-muted-foreground mb-4",children:"已有账号？"}),e.jsx(_,{to:"/login",children:e.jsx(w,{variant:"outline",className:"w-full h-12 font-semibold",children:"立即登录"})})]})]})})]})}export{J as default};
